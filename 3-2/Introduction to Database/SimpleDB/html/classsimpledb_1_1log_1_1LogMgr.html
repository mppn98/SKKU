<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleDB: simpledb.log.LogMgr Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SimpleDB
   &#160;<span id="projectnumber">3.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simpledb</b></li><li class="navelem"><b>log</b></li><li class="navelem"><a class="el" href="classsimpledb_1_1log_1_1LogMgr.html">LogMgr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsimpledb_1_1log_1_1LogMgr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">simpledb.log.LogMgr Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac6a5610d12fca7bbc29d7ee59f4e27ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1log_1_1LogMgr.html#ac6a5610d12fca7bbc29d7ee59f4e27ab">LogMgr</a> (<a class="el" href="classsimpledb_1_1file_1_1FileMgr.html">FileMgr</a> fm, String logfile)</td></tr>
<tr class="separator:ac6a5610d12fca7bbc29d7ee59f4e27ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6624ee41235ebaa1297551d51a7946ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1log_1_1LogMgr.html#a6624ee41235ebaa1297551d51a7946ac">flush</a> (int lsn)</td></tr>
<tr class="separator:a6624ee41235ebaa1297551d51a7946ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d94e88ab5335f712fb34b2458b09358"><td class="memItemLeft" align="right" valign="top"><a id="a2d94e88ab5335f712fb34b2458b09358"></a>
Iterator&lt; byte[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>iterator</b> ()</td></tr>
<tr class="separator:a2d94e88ab5335f712fb34b2458b09358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae147d7c57574b8c580b8cac41d112727"><td class="memItemLeft" align="right" valign="top">synchronized int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1log_1_1LogMgr.html#ae147d7c57574b8c580b8cac41d112727">append</a> (byte[] logrec)</td></tr>
<tr class="separator:ae147d7c57574b8c580b8cac41d112727"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The log manager, which is responsible for writing log records into a log file. The tail of the log is kept in a bytebuffer, which is flushed to disk when needed. </p><dl class="section author"><dt>Author</dt><dd>Edward Sciore </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac6a5610d12fca7bbc29d7ee59f4e27ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a5610d12fca7bbc29d7ee59f4e27ab">&#9670;&nbsp;</a></span>LogMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simpledb.log.LogMgr.LogMgr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1file_1_1FileMgr.html">FileMgr</a>&#160;</td>
          <td class="paramname"><em>fm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>logfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the manager for the specified log file. If the log file does not yet exist, it is created with an empty first block. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FileMgr</td><td>the file manager </td></tr>
    <tr><td class="paramname">logfile</td><td>the name of the log file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae147d7c57574b8c580b8cac41d112727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae147d7c57574b8c580b8cac41d112727">&#9670;&nbsp;</a></span>append()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">synchronized int simpledb.log.LogMgr.append </td>
          <td>(</td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>logrec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Appends a log record to the log buffer. The record consists of an arbitrary array of bytes. Log records are written right to left in the buffer. The size of the record is written before the bytes. The beginning of the buffer contains the location of the last-written record (the "boundary"). Storing the records backwards makes it easy to read them in reverse order. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logrec</td><td>a byte buffer containing the bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the LSN of the final value </dd></dl>

</div>
</div>
<a id="a6624ee41235ebaa1297551d51a7946ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6624ee41235ebaa1297551d51a7946ac">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.log.LogMgr.flush </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lsn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensures that the log record corresponding to the specified LSN has been written to disk. All earlier log records will also be written to disk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lsn</td><td>the LSN of a log record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/simpledb/log/LogMgr.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
