<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleDB: simpledb.tx.recovery.SetStringRecord Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SimpleDB
   &#160;<span id="projectnumber">3.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simpledb</b></li><li class="navelem"><b>tx</b></li><li class="navelem"><b>recovery</b></li><li class="navelem"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html">SetStringRecord</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">simpledb.tx.recovery.SetStringRecord Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for simpledb.tx.recovery.SetStringRecord:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord__inherit__graph.png" border="0" usemap="#simpledb_8tx_8recovery_8SetStringRecord_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for simpledb.tx.recovery.SetStringRecord:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord__coll__graph.png" border="0" usemap="#simpledb_8tx_8recovery_8SetStringRecord_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b47c768a4547fb1924271678a55f92c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html#a9b47c768a4547fb1924271678a55f92c">SetStringRecord</a> (<a class="el" href="classsimpledb_1_1file_1_1Page.html">Page</a> p)</td></tr>
<tr class="separator:a9b47c768a4547fb1924271678a55f92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87005ca427089666bd5d1c96ce4fa29d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html#a87005ca427089666bd5d1c96ce4fa29d">op</a> ()</td></tr>
<tr class="separator:a87005ca427089666bd5d1c96ce4fa29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd0381963f274bf07aeb2e615ba6c8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html#adcd0381963f274bf07aeb2e615ba6c8f">txNumber</a> ()</td></tr>
<tr class="separator:adcd0381963f274bf07aeb2e615ba6c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b6b23006f82137b962153e74799357"><td class="memItemLeft" align="right" valign="top"><a id="a78b6b23006f82137b962153e74799357"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><b>toString</b> ()</td></tr>
<tr class="separator:a78b6b23006f82137b962153e74799357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e8c9a212d3dfcd8f36774271d8cb38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html#a34e8c9a212d3dfcd8f36774271d8cb38">undo</a> (<a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a> tx)</td></tr>
<tr class="separator:a34e8c9a212d3dfcd8f36774271d8cb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a47c5a58fa49e28c24f8111983ab2fc85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1tx_1_1recovery_1_1SetStringRecord.html#a47c5a58fa49e28c24f8111983ab2fc85">writeToLog</a> (<a class="el" href="classsimpledb_1_1log_1_1LogMgr.html">LogMgr</a> lm, int txnum, <a class="el" href="classsimpledb_1_1file_1_1BlockId.html">BlockId</a> blk, int offset, String val)</td></tr>
<tr class="separator:a47c5a58fa49e28c24f8111983ab2fc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html">simpledb.tx.recovery.LogRecord</a></td></tr>
<tr class="memitem:a2c292397e0409fe26f4208aec31776bf inherit pub_static_methods_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html">LogRecord</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html#a2c292397e0409fe26f4208aec31776bf">createLogRecord</a> (byte[] bytes)</td></tr>
<tr class="separator:a2c292397e0409fe26f4208aec31776bf inherit pub_static_methods_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html">simpledb.tx.recovery.LogRecord</a></td></tr>
<tr class="memitem:a33e8b2db2794154d3e4a9ebfe0a7664a inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="a33e8b2db2794154d3e4a9ebfe0a7664a"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>CHECKPOINT</b> = 0</td></tr>
<tr class="separator:a33e8b2db2794154d3e4a9ebfe0a7664a inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91bda04a65992441b925311c8247dcb inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="ad91bda04a65992441b925311c8247dcb"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>START</b> = 1</td></tr>
<tr class="separator:ad91bda04a65992441b925311c8247dcb inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d90cb0075e7d56f599b37e3cc3f673 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="ac6d90cb0075e7d56f599b37e3cc3f673"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>COMMIT</b> = 2</td></tr>
<tr class="separator:ac6d90cb0075e7d56f599b37e3cc3f673 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45dd2e103150fa25d5ad9efef963bc4 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="af45dd2e103150fa25d5ad9efef963bc4"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>ROLLBACK</b> = 3</td></tr>
<tr class="separator:af45dd2e103150fa25d5ad9efef963bc4 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d6d3ec534516217e81540d7ae49b25 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="a20d6d3ec534516217e81540d7ae49b25"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>SETINT</b> = 4</td></tr>
<tr class="separator:a20d6d3ec534516217e81540d7ae49b25 inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c6f220053a4d1b1c3cf566b9fb538e inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memItemLeft" align="right" valign="top"><a id="a48c6f220053a4d1b1c3cf566b9fb538e"></a>
static final int&#160;</td><td class="memItemRight" valign="bottom"><b>SETSTRING</b> = 5</td></tr>
<tr class="separator:a48c6f220053a4d1b1c3cf566b9fb538e inherit pub_static_attribs_interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9b47c768a4547fb1924271678a55f92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b47c768a4547fb1924271678a55f92c">&#9670;&nbsp;</a></span>SetStringRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simpledb.tx.recovery.SetStringRecord.SetStringRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1file_1_1Page.html">Page</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new setint log record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bb</td><td>the bytebuffer containing the log values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a87005ca427089666bd5d1c96ce4fa29d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87005ca427089666bd5d1c96ce4fa29d">&#9670;&nbsp;</a></span>op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int simpledb.tx.recovery.SetStringRecord.op </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the log record's type. </p><dl class="section return"><dt>Returns</dt><dd>the log record's type </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html#aa97a8907de4709c2b3596e8c9709a26c">simpledb.tx.recovery.LogRecord</a>.</p>

</div>
</div>
<a id="adcd0381963f274bf07aeb2e615ba6c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd0381963f274bf07aeb2e615ba6c8f">&#9670;&nbsp;</a></span>txNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int simpledb.tx.recovery.SetStringRecord.txNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the transaction id stored with the log record. </p><dl class="section return"><dt>Returns</dt><dd>the log record's transaction id </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html#a167f7406c18bf3367f1b83f6853870db">simpledb.tx.recovery.LogRecord</a>.</p>

</div>
</div>
<a id="a34e8c9a212d3dfcd8f36774271d8cb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e8c9a212d3dfcd8f36774271d8cb38">&#9670;&nbsp;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.tx.recovery.SetStringRecord.undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace the specified data value with the value saved in the log record. The method pins a buffer to the specified block, calls setInt to restore the saved value, and unpins the buffer. </p><dl class="section see"><dt>See also</dt><dd>simpledb.tx.recovery.LogRecord::undo(int) </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1tx_1_1recovery_1_1LogRecord.html#a1f1949e7f3746b9b8b3bc985c89214e5">simpledb.tx.recovery.LogRecord</a>.</p>

</div>
</div>
<a id="a47c5a58fa49e28c24f8111983ab2fc85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c5a58fa49e28c24f8111983ab2fc85">&#9670;&nbsp;</a></span>writeToLog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int simpledb.tx.recovery.SetStringRecord.writeToLog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1log_1_1LogMgr.html">LogMgr</a>&#160;</td>
          <td class="paramname"><em>lm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1file_1_1BlockId.html">BlockId</a>&#160;</td>
          <td class="paramname"><em>blk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A static method to write a setInt record to the log. This log record contains the SETINT operator, followed by the transaction id, the filename, number, and offset of the modified block, and the previous integer value at that offset. </p><dl class="section return"><dt>Returns</dt><dd>the LSN of the last log value </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/simpledb/tx/recovery/SetStringRecord.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
