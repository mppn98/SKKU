<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleDB: simpledb.multibuffer.MultibufferProductPlan Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SimpleDB
   &#160;<span id="projectnumber">3.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simpledb</b></li><li class="navelem"><b>multibuffer</b></li><li class="navelem"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html">MultibufferProductPlan</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">simpledb.multibuffer.MultibufferProductPlan Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for simpledb.multibuffer.MultibufferProductPlan:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan__inherit__graph.png" border="0" usemap="#simpledb_8multibuffer_8MultibufferProductPlan_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for simpledb.multibuffer.MultibufferProductPlan:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan__coll__graph.png" border="0" usemap="#simpledb_8multibuffer_8MultibufferProductPlan_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf644634c282204e7e18014c34481e05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#aaf644634c282204e7e18014c34481e05">MultibufferProductPlan</a> (<a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a> tx, <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html">Plan</a> lhs, <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html">Plan</a> rhs)</td></tr>
<tr class="separator:aaf644634c282204e7e18014c34481e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0874bcf0d5bb9839346404d40b06eaed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfacesimpledb_1_1query_1_1Scan.html">Scan</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#a0874bcf0d5bb9839346404d40b06eaed">open</a> ()</td></tr>
<tr class="separator:a0874bcf0d5bb9839346404d40b06eaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3555f5da62f198a1d0e8d1b73a3d0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#a5e3555f5da62f198a1d0e8d1b73a3d0d">blocksAccessed</a> ()</td></tr>
<tr class="separator:a5e3555f5da62f198a1d0e8d1b73a3d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45cef849c8ac76cce183b7d9909929c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#a45cef849c8ac76cce183b7d9909929c1">recordsOutput</a> ()</td></tr>
<tr class="separator:a45cef849c8ac76cce183b7d9909929c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94df401d9ea9f4da99e4851fc5be731a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#a94df401d9ea9f4da99e4851fc5be731a">distinctValues</a> (String fldname)</td></tr>
<tr class="separator:a94df401d9ea9f4da99e4851fc5be731a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc53b6bf91a6d7f28ce76c0c226a93f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsimpledb_1_1record_1_1Schema.html">Schema</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1multibuffer_1_1MultibufferProductPlan.html#a8cc53b6bf91a6d7f28ce76c0c226a93f">schema</a> ()</td></tr>
<tr class="separator:a8cc53b6bf91a6d7f28ce76c0c226a93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Plan class for the multi-buffer version of the <em>product</em> operator. </p><dl class="section author"><dt>Author</dt><dd>Edward Sciore </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaf644634c282204e7e18014c34481e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf644634c282204e7e18014c34481e05">&#9670;&nbsp;</a></span>MultibufferProductPlan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simpledb.multibuffer.MultibufferProductPlan.MultibufferProductPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html">Plan</a>&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html">Plan</a>&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a product plan for the specified queries. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lhs</td><td>the plan for the LHS query </td></tr>
    <tr><td class="paramname">rhs</td><td>the plan for the RHS query </td></tr>
    <tr><td class="paramname">tx</td><td>the calling transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e3555f5da62f198a1d0e8d1b73a3d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e3555f5da62f198a1d0e8d1b73a3d0d">&#9670;&nbsp;</a></span>blocksAccessed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int simpledb.multibuffer.MultibufferProductPlan.blocksAccessed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns an estimate of the number of block accesses required to execute the query. The formula is: </p><pre> B(product(p1,p2)) = B(p2) + B(p1)*C(p2) </pre><p> where C(p2) is the number of chunks of p2. The method uses the current number of available buffers to calculate C(p2), and so this value may differ when the query scan is opened. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a6a333b95b956fe224812155b9d1c8202">simpledb.plan.Plan::blocksAccessed()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a6a333b95b956fe224812155b9d1c8202">simpledb.plan.Plan</a>.</p>

</div>
</div>
<a id="a94df401d9ea9f4da99e4851fc5be731a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94df401d9ea9f4da99e4851fc5be731a">&#9670;&nbsp;</a></span>distinctValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int simpledb.multibuffer.MultibufferProductPlan.distinctValues </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>fldname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Estimates the distinct number of field values in the product. Since the product does not increase or decrease field values, the estimate is the same as in the appropriate underlying query. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a55094c16c756b0c09b5c71b94d573271">simpledb.plan.Plan::distinctValues</a>(java.lang.String) </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a55094c16c756b0c09b5c71b94d573271">simpledb.plan.Plan</a>.</p>

</div>
</div>
<a id="a0874bcf0d5bb9839346404d40b06eaed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0874bcf0d5bb9839346404d40b06eaed">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfacesimpledb_1_1query_1_1Scan.html">Scan</a> simpledb.multibuffer.MultibufferProductPlan.open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A scan for this query is created and returned, as follows. First, the method materializes its LHS and RHS queries. It then determines the optimal chunk size, based on the size of the materialized RHS file and the number of available buffers. It creates a chunk plan for each chunk, saving them in a list. Finally, it creates a multiscan for this list of plans, and returns that scan. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#aaa4c15cda4e9c0d52308850f9f13ff99">simpledb.plan.Plan::open()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#aaa4c15cda4e9c0d52308850f9f13ff99">simpledb.plan.Plan</a>.</p>

</div>
</div>
<a id="a45cef849c8ac76cce183b7d9909929c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45cef849c8ac76cce183b7d9909929c1">&#9670;&nbsp;</a></span>recordsOutput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int simpledb.multibuffer.MultibufferProductPlan.recordsOutput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Estimates the number of output records in the product. The formula is: </p><pre> R(product(p1,p2)) = R(p1)*R(p2) </pre> <dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a187e06657d356c80a7f743d7ff8fd257">simpledb.plan.Plan::recordsOutput()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#a187e06657d356c80a7f743d7ff8fd257">simpledb.plan.Plan</a>.</p>

</div>
</div>
<a id="a8cc53b6bf91a6d7f28ce76c0c226a93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc53b6bf91a6d7f28ce76c0c226a93f">&#9670;&nbsp;</a></span>schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsimpledb_1_1record_1_1Schema.html">Schema</a> simpledb.multibuffer.MultibufferProductPlan.schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the schema of the product, which is the union of the schemas of the underlying queries. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#ad0ee1aa2c4e7147e9f8fc6f3301fa986">simpledb.plan.Plan::schema()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1plan_1_1Plan.html#ad0ee1aa2c4e7147e9f8fc6f3301fa986">simpledb.plan.Plan</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/simpledb/multibuffer/MultibufferProductPlan.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
