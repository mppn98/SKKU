<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleDB: simpledb.index.hash.HashIndex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SimpleDB
   &#160;<span id="projectnumber">3.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simpledb</b></li><li class="navelem"><b>index</b></li><li class="navelem"><b>hash</b></li><li class="navelem"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html">HashIndex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classsimpledb_1_1index_1_1hash_1_1HashIndex-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">simpledb.index.hash.HashIndex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for simpledb.index.hash.HashIndex:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1index_1_1hash_1_1HashIndex__inherit__graph.png" border="0" usemap="#simpledb_8index_8hash_8HashIndex_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for simpledb.index.hash.HashIndex:</div>
<div class="dyncontent">
<div class="center"><img src="classsimpledb_1_1index_1_1hash_1_1HashIndex__coll__graph.png" border="0" usemap="#simpledb_8index_8hash_8HashIndex_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3a54c91a803eae272f449ab878274fc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#a3a54c91a803eae272f449ab878274fc2">HashIndex</a> (<a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a> tx, String idxname, <a class="el" href="classsimpledb_1_1record_1_1Layout.html">Layout</a> layout)</td></tr>
<tr class="separator:a3a54c91a803eae272f449ab878274fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b60680c25ec3ba70d92e5fde16f059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#a23b60680c25ec3ba70d92e5fde16f059">beforeFirst</a> (<a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a> searchkey)</td></tr>
<tr class="separator:a23b60680c25ec3ba70d92e5fde16f059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07532e9c86a7d28791f9bed10a27387f"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#a07532e9c86a7d28791f9bed10a27387f">next</a> ()</td></tr>
<tr class="separator:a07532e9c86a7d28791f9bed10a27387f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8318b51f79a93009bcf9806aacda405"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#ae8318b51f79a93009bcf9806aacda405">getDataRid</a> ()</td></tr>
<tr class="separator:ae8318b51f79a93009bcf9806aacda405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd2cc37db3d7b254658fdd4b2814f40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#a8fd2cc37db3d7b254658fdd4b2814f40">insert</a> (<a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a> val, <a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a> rid)</td></tr>
<tr class="separator:a8fd2cc37db3d7b254658fdd4b2814f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d2d6f98901db61549cfe51a1433d45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#a76d2d6f98901db61549cfe51a1433d45">delete</a> (<a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a> val, <a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a> rid)</td></tr>
<tr class="separator:a76d2d6f98901db61549cfe51a1433d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc28a52b702d34572280aa10c20f1f43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#abc28a52b702d34572280aa10c20f1f43">close</a> ()</td></tr>
<tr class="separator:abc28a52b702d34572280aa10c20f1f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae527655fdcef3f63fca081b59dd45b31"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimpledb_1_1index_1_1hash_1_1HashIndex.html#ae527655fdcef3f63fca081b59dd45b31">searchCost</a> (int numblocks, int rpb)</td></tr>
<tr class="separator:ae527655fdcef3f63fca081b59dd45b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aad7e21d37fcc72b80702160788f2a196"><td class="memItemLeft" align="right" valign="top"><a id="aad7e21d37fcc72b80702160788f2a196"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_BUCKETS</b> = 100</td></tr>
<tr class="separator:aad7e21d37fcc72b80702160788f2a196"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A static hash implementation of the <a class="el" href="interfacesimpledb_1_1index_1_1Index.html">Index</a> interface. A fixed number of buckets is allocated (currently, 100), and each bucket is implemented as a file of index records. </p><dl class="section author"><dt>Author</dt><dd>Edward Sciore </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3a54c91a803eae272f449ab878274fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a54c91a803eae272f449ab878274fc2">&#9670;&nbsp;</a></span>HashIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simpledb.index.hash.HashIndex.HashIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1tx_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>idxname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1record_1_1Layout.html">Layout</a>&#160;</td>
          <td class="paramname"><em>layout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a hash index for the specified index. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxname</td><td>the name of the index </td></tr>
    <tr><td class="paramname">sch</td><td>the schema of the index records </td></tr>
    <tr><td class="paramname">tx</td><td>the calling transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a23b60680c25ec3ba70d92e5fde16f059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b60680c25ec3ba70d92e5fde16f059">&#9670;&nbsp;</a></span>beforeFirst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.index.hash.HashIndex.beforeFirst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a>&#160;</td>
          <td class="paramname"><em>searchkey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Positions the index before the first index record having the specified search key. The method hashes the search key to determine the bucket, and then opens a table scan on the file corresponding to the bucket. The table scan for the previous bucket (if any) is closed. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a393ce322b5a7ffee20d8ff85abef7444">simpledb.index.Index::beforeFirst</a>(<a class="el" href="classsimpledb_1_1query_1_1Constant.html">simpledb.query.Constant</a>) </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a393ce322b5a7ffee20d8ff85abef7444">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="abc28a52b702d34572280aa10c20f1f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc28a52b702d34572280aa10c20f1f43">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.index.hash.HashIndex.close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Closes the index by closing the current table scan. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#aedde7a12ff7788c1dc00ef9404b4266e">simpledb.index.Index::close()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#aedde7a12ff7788c1dc00ef9404b4266e">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="a76d2d6f98901db61549cfe51a1433d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d2d6f98901db61549cfe51a1433d45">&#9670;&nbsp;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.index.hash.HashIndex.delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a>&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deletes the specified record from the table scan for the bucket. The method starts at the beginning of the scan, and loops through the records until the specified record is found. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a3bbe4098bf5422023391ce24f2e7df88">simpledb.index.Index::delete</a>(<a class="el" href="classsimpledb_1_1query_1_1Constant.html">simpledb.query.Constant</a>, <a class="el" href="classsimpledb_1_1record_1_1RID.html">simpledb.record.RID</a>) </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a3bbe4098bf5422023391ce24f2e7df88">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="ae8318b51f79a93009bcf9806aacda405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8318b51f79a93009bcf9806aacda405">&#9670;&nbsp;</a></span>getDataRid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a> simpledb.index.hash.HashIndex.getDataRid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the dataRID from the current record in the table scan for the bucket. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#aad4ee85740a0f5b3453bdf24e8b82615">simpledb.index.Index::getDataRid()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#aad4ee85740a0f5b3453bdf24e8b82615">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="a8fd2cc37db3d7b254658fdd4b2814f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd2cc37db3d7b254658fdd4b2814f40">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void simpledb.index.hash.HashIndex.insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1query_1_1Constant.html">Constant</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsimpledb_1_1record_1_1RID.html">RID</a>&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inserts a new record into the table scan for the bucket. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a7e72ba9fe47d6d7631e0ad3feee882d7">simpledb.index.Index::insert</a>(<a class="el" href="classsimpledb_1_1query_1_1Constant.html">simpledb.query.Constant</a>, <a class="el" href="classsimpledb_1_1record_1_1RID.html">simpledb.record.RID</a>) </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a7e72ba9fe47d6d7631e0ad3feee882d7">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="a07532e9c86a7d28791f9bed10a27387f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07532e9c86a7d28791f9bed10a27387f">&#9670;&nbsp;</a></span>next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean simpledb.index.hash.HashIndex.next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Moves to the next record having the search key. The method loops through the table scan for the bucket, looking for a matching record, and returning false if there are no more such records. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a38b2addb6813fbf1d94e77de2345724c">simpledb.index.Index::next()</a> </dd></dl>

<p>Implements <a class="el" href="interfacesimpledb_1_1index_1_1Index.html#a38b2addb6813fbf1d94e77de2345724c">simpledb.index.Index</a>.</p>

</div>
</div>
<a id="ae527655fdcef3f63fca081b59dd45b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae527655fdcef3f63fca081b59dd45b31">&#9670;&nbsp;</a></span>searchCost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int simpledb.index.hash.HashIndex.searchCost </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the cost of searching an index file having the specified number of blocks. The method assumes that all buckets are about the same size, and so the cost is simply the size of the bucket. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numblocks</td><td>the number of blocks of index records </td></tr>
    <tr><td class="paramname">rpb</td><td>the number of records per block (not used here) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the cost of traversing the index </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/simpledb/index/hash/HashIndex.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
