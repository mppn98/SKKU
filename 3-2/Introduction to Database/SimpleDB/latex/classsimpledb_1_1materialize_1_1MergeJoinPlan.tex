\hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan}{}\section{simpledb.\+materialize.\+Merge\+Join\+Plan Class Reference}
\label{classsimpledb_1_1materialize_1_1MergeJoinPlan}\index{simpledb.\+materialize.\+Merge\+Join\+Plan@{simpledb.\+materialize.\+Merge\+Join\+Plan}}


Inheritance diagram for simpledb.\+materialize.\+Merge\+Join\+Plan\+:
% FIG 0


Collaboration diagram for simpledb.\+materialize.\+Merge\+Join\+Plan\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3d7ecb74f147722e0df66749e63c6006}{Merge\+Join\+Plan} (\hyperlink{classsimpledb_1_1tx_1_1Transaction}{Transaction} tx, \hyperlink{interfacesimpledb_1_1plan_1_1Plan}{Plan} p1, \hyperlink{interfacesimpledb_1_1plan_1_1Plan}{Plan} p2, String fldname1, String fldname2)
\item 
\hyperlink{interfacesimpledb_1_1query_1_1Scan}{Scan} \hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_aa37bca23bb46556e265de8ed03c0e2e9}{open} ()
\item 
int \hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4ceef561ece4dad75dd41e46ff5d184c}{blocks\+Accessed} ()
\item 
int \hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4491095a660740e251d50bd33628dc2d}{records\+Output} ()
\item 
int \hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_a70b3e49e98fb23b0f99051e5f3e8af60}{distinct\+Values} (String fldname)
\item 
\hyperlink{classsimpledb_1_1record_1_1Schema}{Schema} \hyperlink{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3e1d4a728b4454d33adc811aa24989f4}{schema} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Plan class for the {\itshape mergejoin} operator. \begin{DoxyAuthor}{Author}
Edward Sciore 
\end{DoxyAuthor}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3d7ecb74f147722e0df66749e63c6006}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3d7ecb74f147722e0df66749e63c6006}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!Merge\+Join\+Plan@{Merge\+Join\+Plan}}
\index{Merge\+Join\+Plan@{Merge\+Join\+Plan}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{Merge\+Join\+Plan()}{MergeJoinPlan()}}
{\footnotesize\ttfamily simpledb.\+materialize.\+Merge\+Join\+Plan.\+Merge\+Join\+Plan (\begin{DoxyParamCaption}\item[{\hyperlink{classsimpledb_1_1tx_1_1Transaction}{Transaction}}]{tx,  }\item[{\hyperlink{interfacesimpledb_1_1plan_1_1Plan}{Plan}}]{p1,  }\item[{\hyperlink{interfacesimpledb_1_1plan_1_1Plan}{Plan}}]{p2,  }\item[{String}]{fldname1,  }\item[{String}]{fldname2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Creates a mergejoin plan for the two specified queries. The R\+HS must be materialized after it is sorted, in order to deal with possible duplicates. 
\begin{DoxyParams}{Parameters}
{\em p1} & the L\+HS query plan \\
\hline
{\em p2} & the R\+HS query plan \\
\hline
{\em fldname1} & the L\+HS join field \\
\hline
{\em fldname2} & the R\+HS join field \\
\hline
{\em tx} & the calling transaction \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4ceef561ece4dad75dd41e46ff5d184c}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4ceef561ece4dad75dd41e46ff5d184c}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!blocks\+Accessed@{blocks\+Accessed}}
\index{blocks\+Accessed@{blocks\+Accessed}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{blocks\+Accessed()}{blocksAccessed()}}
{\footnotesize\ttfamily int simpledb.\+materialize.\+Merge\+Join\+Plan.\+blocks\+Accessed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of block acceses required to mergejoin the sorted tables. Since a mergejoin can be preformed with a single pass through each table, the method returns the sum of the block accesses of the materialized sorted tables. It does {\itshape not} include the one-\/time cost of materializing and sorting the records. \begin{DoxySeeAlso}{See also}
\hyperlink{interfacesimpledb_1_1plan_1_1Plan_a6a333b95b956fe224812155b9d1c8202}{simpledb.\+plan.\+Plan\+::blocks\+Accessed()} 
\end{DoxySeeAlso}


Implements \hyperlink{interfacesimpledb_1_1plan_1_1Plan_a6a333b95b956fe224812155b9d1c8202}{simpledb.\+plan.\+Plan}.

\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_a70b3e49e98fb23b0f99051e5f3e8af60}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_a70b3e49e98fb23b0f99051e5f3e8af60}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!distinct\+Values@{distinct\+Values}}
\index{distinct\+Values@{distinct\+Values}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{distinct\+Values()}{distinctValues()}}
{\footnotesize\ttfamily int simpledb.\+materialize.\+Merge\+Join\+Plan.\+distinct\+Values (\begin{DoxyParamCaption}\item[{String}]{fldname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Estimate the distinct number of field values in the join. Since the join does not increase or decrease field values, the estimate is the same as in the appropriate underlying query. \begin{DoxySeeAlso}{See also}
\hyperlink{interfacesimpledb_1_1plan_1_1Plan_a55094c16c756b0c09b5c71b94d573271}{simpledb.\+plan.\+Plan\+::distinct\+Values}(java.\+lang.\+String) 
\end{DoxySeeAlso}


Implements \hyperlink{interfacesimpledb_1_1plan_1_1Plan_a55094c16c756b0c09b5c71b94d573271}{simpledb.\+plan.\+Plan}.

\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_aa37bca23bb46556e265de8ed03c0e2e9}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_aa37bca23bb46556e265de8ed03c0e2e9}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!open@{open}}
\index{open@{open}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily \hyperlink{interfacesimpledb_1_1query_1_1Scan}{Scan} simpledb.\+materialize.\+Merge\+Join\+Plan.\+open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

The method first sorts its two underlying scans on their join field. It then returns a mergejoin scan of the two sorted table scans. \begin{DoxySeeAlso}{See also}
\hyperlink{interfacesimpledb_1_1plan_1_1Plan_aaa4c15cda4e9c0d52308850f9f13ff99}{simpledb.\+plan.\+Plan\+::open()} 
\end{DoxySeeAlso}


Implements \hyperlink{interfacesimpledb_1_1plan_1_1Plan_aaa4c15cda4e9c0d52308850f9f13ff99}{simpledb.\+plan.\+Plan}.

\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4491095a660740e251d50bd33628dc2d}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_a4491095a660740e251d50bd33628dc2d}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!records\+Output@{records\+Output}}
\index{records\+Output@{records\+Output}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{records\+Output()}{recordsOutput()}}
{\footnotesize\ttfamily int simpledb.\+materialize.\+Merge\+Join\+Plan.\+records\+Output (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of records in the join. Assuming uniform distribution, the formula is\+: 
\begin{DoxyPre} R(join(p1,p2)) = R(p1)*R(p2)/max\{V(p1,F1),V(p2,F2)\}\end{DoxyPre}
 \begin{DoxySeeAlso}{See also}
\hyperlink{interfacesimpledb_1_1plan_1_1Plan_a187e06657d356c80a7f743d7ff8fd257}{simpledb.\+plan.\+Plan\+::records\+Output()} 
\end{DoxySeeAlso}


Implements \hyperlink{interfacesimpledb_1_1plan_1_1Plan_a187e06657d356c80a7f743d7ff8fd257}{simpledb.\+plan.\+Plan}.

\mbox{\Hypertarget{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3e1d4a728b4454d33adc811aa24989f4}\label{classsimpledb_1_1materialize_1_1MergeJoinPlan_a3e1d4a728b4454d33adc811aa24989f4}} 
\index{simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}!schema@{schema}}
\index{schema@{schema}!simpledb\+::materialize\+::\+Merge\+Join\+Plan@{simpledb\+::materialize\+::\+Merge\+Join\+Plan}}
\subsubsection{\texorpdfstring{schema()}{schema()}}
{\footnotesize\ttfamily \hyperlink{classsimpledb_1_1record_1_1Schema}{Schema} simpledb.\+materialize.\+Merge\+Join\+Plan.\+schema (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return the schema of the join, which is the union of the schemas of the underlying queries. \begin{DoxySeeAlso}{See also}
\hyperlink{interfacesimpledb_1_1plan_1_1Plan_ad0ee1aa2c4e7147e9f8fc6f3301fa986}{simpledb.\+plan.\+Plan\+::schema()} 
\end{DoxySeeAlso}


Implements \hyperlink{interfacesimpledb_1_1plan_1_1Plan_ad0ee1aa2c4e7147e9f8fc6f3301fa986}{simpledb.\+plan.\+Plan}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/java/simpledb/materialize/Merge\+Join\+Plan.\+java\end{DoxyCompactItemize}
